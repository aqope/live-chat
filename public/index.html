<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>livechat</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font: 13px Helvetica, Arial;
        }
    </style>

    <link rel="stylesheet" href="static/bower_components/materialize/dist/css/materialize.min.css">
    <link rel="stylesheet" href="static/css/app.css">
</head>
<body>
<div id="chat-app" class="app-container row" v-cloak>
    <div class="col s3">
        <ul id="users-list" style="display: block">
            <li v-for="user in users">
                <div class="chip">
                    <div class="nickname"><p>{{ user.username }}</p></div>
                    <div class="color-icon" v-bind:style="{ backgroundColor: user.color.value }"></div>
                </div>
            </li>
        </ul>
    </div>
    <div class="col s6">
        <div class="fixed-container">
            <ul id="messages" class="bubble-chat">
                <li v-for="msg in messages">
                    <div class="message-wrapper">
                        <div class="message" v-bind:class="[msg.username == username ? 'sent' : 'received']" v-bind:style="{ backgroundColor: msg.colorVal }">
                            <p>{{ msg.message }}</p>
                        </div>
                    </div>
                </li>
            </ul>
            <div class="input-container">
                <form action="" v-on:submit="sendMessage">
                    <div class="row">
                        <div class="input-field col s10">
                            <input id="m" v-model="message" type="text" autocomplete="off">
                            <label for="m">Message</label>
                        </div>
                        <div class="button-field col s2">
                            <button class="btn-floating waves-effect waves-light" type="submit">Send <i class="material-icons right">send</i></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col s3">

    </div>
  <!-- Modal Structure -->
</div>
<div id="loginModal" class="modal">
    <form action="">
        <div class="modal-content">
        <h5> Please, input your username! </h5>
        <div class="input-field">
            <input id="username" name="username" class="validate" required="" aria-required="" type="text">
            <label for="username">Username</label> 
        </div>
        <div class="input-field">
            <input type="checkbox" class="filled-in" id="filled-in-box" checked="checked" />
            <label for="filled-in-box">Generate random color</label>
        </div>
        <div class="input-field" style="display: none">
            <a class="waves-effect waves-light btn">Select Color</a>

            <div id="color-picker" class="card-panel white">
                <p>Select a color</p>
                <div class="color-grid">
                </div>
            </div>
            <script type="text/javascript">
                
            </script>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn waves-effect waves-green btn-flat" type="submit">
            Connect
        </button>
    </div>
    </form>
  </div>

<script src="static/bower_components/jquery/dist/jquery.min.js"></script>
<script src='static/bower_components/materialize/dist/js/materialize.min.js'></script>
<script src="static/bower_components/vue/dist/vue.min.js"></script>
<script src="static/bower_components/socket.io-client/dist/socket.io.js"></script>
<script src="static/js/app.js"></script>
</body>
</html>
